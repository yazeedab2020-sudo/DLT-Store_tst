<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ - DLT Store</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@300;400;500;700;800&family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        darkBg: '#0B001A',
                        cardBg: '#1A0B2E',
                        neonGreen: '#00FFA3',
                        neonPurple: '#D900FF',
                        neonBlue: '#00F0FF',
                        spaceBlue: '#2D1B69',
                    },
                    fontFamily: {
                        sans: ['Changa', 'sans-serif'],
                        pixel: ['Silkscreen', 'cursive'],
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-darkBg text-white flex flex-col min-h-screen">
    <nav class="bg-cardBg/80 backdrop-blur-md sticky top-0 z-50 border-b border-white/10 shadow-[0_0_15px_rgba(188,19,254,0.3)]">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="text-xl md:text-2xl font-bold font-pixel text-neonPurple tracking-wider flex items-center gap-2">
                <a href="admin.html" class="flex items-center gap-2">
                    <span class="text-2xl md:text-3xl">ğŸª</span> DLT <span class="text-neonBlue">STORE</span>
                </a>
            </div>
            <div class="flex items-center space-x-2 md:space-x-4 space-x-reverse">
                <a href="admin.html" class="hover:text-neonBlue transition">Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
            </div>
        </div>
    </nav>

    <section class="container mx-auto px-4 py-10 flex-grow">
        <h1 class="text-3xl md:text-4xl font-bold font-pixel text-neonPurple mb-8">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h1>

        <div id="order-container" class="bg-cardBg/80 border border-white/10 rounded-2xl p-6 shadow-[0_0_30px_rgba(217,0,255,0.1)]">
            <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¹Ø¨Ø± Ø³ÙƒØ±Ø¨Øª -->
        </div>
    </section>

    <footer class="bg-cardBg/50 pt-12 pb-8 border-t border-white/10 mt-12 backdrop-blur-sm">
        <div class="container mx-auto px-4 text-center text-gray-600 text-sm">
            <p>&copy; 2024 DLT Store. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script>
        const ORDERS_KEY = 'dlt_orders';
        function getOrders() {
            try {
                const raw = localStorage.getItem(ORDERS_KEY);
                return raw ? JSON.parse(raw) : [];
            } catch { return []; }
        }
        function findOrder(id) {
            return getOrders().find(o => String(o.id) === String(id));
        }
        function formatStatus(status) {
            const map = {
                'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±': 'bg-yellow-500/20 text-yellow-300',
                'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©': 'bg-blue-500/20 text-blue-300',
                'Ù…ÙØ±Ø³Ù„': 'bg-neonPurple/20 text-neonPurple',
                'Ù…ÙƒØªÙ…Ù„': 'bg-green-500/20 text-green-300',
                'Ù…Ù„ØºÙŠ': 'bg-red-600/20 text-red-300'
            };
            return map[status] || 'bg-white/10 text-white';
        }
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(location.search);
            const id = params.get('id');
            const container = document.getElementById('order-container');
            if (!id) {
                container.innerHTML = '<div class="text-red-400">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ù‚Ù… Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯.</div>';
                return;
            }
            const order = findOrder(id);
            if (!order) {
                container.innerHTML = '<div class="text-red-400">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨.</div>';
                return;
            }
            const customer = order.customer || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
            const email = order.email || '';
            const date = order.date || new Date().toISOString().slice(0,10);
            const status = order.status || '';
            const payment = order.payment || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            const product = order.product || (order.items && order.items[0]?.name) || 'Ù…Ù†ØªØ¬';
            const image = order.image || (order.items && order.items[0]?.image) || '';
            const qty = order.qty || (order.items && order.items[0]?.qty) || 1;
            const price = order.price || (order.items && order.items[0]?.price) || 0;
            const total = Number(price) * Number(qty || 1);
            container.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-3">
                        <div class="text-sm text-gray-300">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: <span class="text-white font-bold">${order.id}</span></div>
                        <div class="text-sm text-gray-300">Ø§Ù„ØªØ§Ø±ÙŠØ®: <span class="text-white">${date}</span></div>
                        <div class="text-sm text-gray-300">Ø§Ù„Ø¹Ù…ÙŠÙ„: <span class="text-white">${customer}</span></div>
                        <div class="text-sm text-gray-300">Ø§Ù„Ø¨Ø±ÙŠØ¯: <span class="text-white">${email}</span></div>
                        <div class="text-sm text-gray-300">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: <span class="text-white">${payment}</span></div>
                        <div class="text-sm text-gray-300">Ø§Ù„Ø­Ø§Ù„Ø©: <span class="px-2 py-1 rounded ${formatStatus(status)} text-xs font-bold">${status}</span></div>
                    </div>
                    <div class="flex items-center gap-4">
                        ${image ? `<img src="${image}" alt="${product}" class="w-28 h-28 object-cover rounded-lg border border-white/10">` : ''}
                        <div>
                            <div class="font-bold text-white">${product}</div>
                            <div class="text-gray-300 text-sm">Ø§Ù„ÙƒÙ…ÙŠØ©: <span class="text-neonBlue">${qty}</span></div>
                            <div class="text-gray-300 text-sm">Ø§Ù„Ø³Ø¹Ø±: <span class="text-neonGreen">${Number(price).toFixed(2)} Ø±.Ø³</span></div>
                            <div class="text-gray-300 text-sm">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span class="text-neonGreen font-bold">${total.toFixed(2)} Ø±.Ø³</span></div>
                        </div>
                    </div>
                </div>
            `;
        });
    </script>
    <script src="main.js"></script>
</body>
</html>
